"use strict";var w=Object.create;var a=Object.defineProperty;var O=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var _=(o,t)=>{for(var e in t)a(o,e,{get:t[e],enumerable:!0})},l=(o,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of P(t))!C.call(o,s)&&s!==e&&a(o,s,{get:()=>t[s],enumerable:!(r=O(t,s))||r.enumerable});return o};var i=(o,t,e)=>(e=o!=null?w(S(o)):{},l(t||!o||!o.__esModule?a(e,"default",{value:o,enumerable:!0}):e,o)),x=o=>l(a({},"__esModule",{value:!0}),o);var B={};_(B,{default:()=>b});module.exports=x(B);var c=i(require("fs")),n=i(require("path"));var m=i(require("fs"));var F=()=>{try{let o=E(),t=m.default.readFileSync(o,"utf-8"),e=JSON.parse(t).profile.info_cache;return e?Object.keys(e)[0]:"Default"}catch{return"Default"}},h=["Application Support","Google","Chrome"],p=["Application Support","Google","Chrome","Local State"],f=F();var u="Google Chrome has no bookmarks.";var g=require("@raycast/api"),k=()=>{if(!process.env.HOME)throw new Error("$HOME environment variable is not set.");return n.default.join(process.env.HOME,"Library")},H=(o,t)=>{let{profilePath:e}=(0,g.getPreferenceValues)(),r;return e?r=n.default.join(e,o):r=n.default.join(k(),...h,t??f,o),r};var E=()=>n.default.join(k(),...p),R=o=>H("Bookmarks",o);function y(o){let t=[];return o.type==="folder"?o.children.forEach(e=>{t.push(...y(e))}):o.type==="url"&&o.url&&t.push({id:o.id,url:o.url,title:o.name,lastVisited:new Date(o.date_added)}),t}var L=o=>{let t=[];return Object.keys(o.roots).forEach(e=>{let r=o.roots[e],s=y(r);t.push(...s)}),t},d=async o=>{let t=R(o);if(!c.default.existsSync(t))throw new Error(u);let e=await c.default.promises.readFile(t,{encoding:"utf-8"});return L(JSON.parse(e))};async function b(o){return o.query?await d():"Please enter a bookmark search query."}
